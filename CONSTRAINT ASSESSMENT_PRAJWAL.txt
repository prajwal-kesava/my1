ASSESSMENT 1 - CONSTRAINTS

SQL QUERY:

CREATE TABLE prj1 (
empid SMALLINT PRIMARY KEY,
empname VARCHAR(100));
ALTER TABLE prj1 ADD salary MONEY;
ALTER TABLE prj1 ADD deptid INT;

SELECT * FROM prj1;
INSERT INTO prj1
SELECT 1,'prjwl',30000,1 union all
SELECT 2,'kesava',35000,2 union all
SELECT 3,'amrutha',40000,3 union all
SELECT 4,'sekhar',45000,4 union all
SELECT 5,'radha',30000,5 union all
SELECT 6,null,40000,6 union all
SELECT 7,null,40000,7;
CREATE TABLE amr(
deptid INT ,
deptname VARCHAR(100) );
INSERT INTO amr VALUES (1,'QA'),(2,'ANALYST'),(3,'DEVOPS'),(4,'CODING'),(5,NULL),(6,NULL);
SELECT * FROM amr
--JOIN
SELECT EMPID,EMPNAME FROM PRJ1 A
FULL JOIN AMR B
ON A.DEPTID=B.DEPTID
WHERE B.DEPTNAME IS NULL;
--PRIMARY KEY
ALTER TABLE amr ALTER COLUMN deptid INT  NOT NULL;
ALTER TABLE amr ADD CONSTRAINT PK_DEPTIDd PRIMARY KEY(deptid);
--FOREIGN KEY
--PARENT IS AMR AND CHILD IS PRJ1
ALTER TABLE PRJ1 ADD CONSTRAINT FK_PRJmyy FOREIGN KEY(deptid) REFERENCES amr(deptid);

SELECT * FROM amr

INSERT INTO prj1 VALUES(8,'dfghjk',34567,5)

--DEFAULT KEY

ALTER TABLE prj1 ADD CONSTRAINT def_empname DEFAULT 'aaa' FOR empname
--TEST CASE FOR DEFAULT KEY
INSERT INTO prj1(empid,salary,deptid)
SELECT 9,30000,6 
--CHECK KEY
ALTER TABLE prj1 ADD CONSTRAINT CK_PRJ1 CHECK(SALARY>10000)
--TEST CASE FOR CHECK KEY
INSERT INTO prj1
SELECT 12,'naaa',9000,4;


 